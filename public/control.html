<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Advanced Ticker Control Panel</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Audiowide&family=Black+Ops+One&family=Russo+One&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Orbitron', Arial, sans-serif;
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a3a 100%);
      color: #4da6ff;
      margin: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .header {
      background: linear-gradient(90deg, #111, #1a1a3a);
      padding: 20px;
      border-bottom: 2px solid #4da6ff;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }
    
    h1 {
      color: #4da6ff;
      text-shadow: 0 0 20px #4da6ff;
      font-size: 2rem;
      text-align: center;
      margin: 0;
      animation: pulse 3s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { text-shadow: 0 0 20px #4da6ff; }
      50% { text-shadow: 0 0 30px #4da6ff, 0 0 40px #4da6ff; }
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Enhanced Tab System */
    .tabs {
      display: flex;
      margin-bottom: 30px;
      background: #111;
      border-radius: 15px;
      padding: 5px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    
    .tab {
      flex: 1;
      padding: 15px 25px;
      background: transparent;
      border: none;
      color: #666;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: inherit;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      position: relative;
      overflow: hidden;
    }
    
    .tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(77,166,255,0.1), transparent);
      transition: left 0.5s;
    }
    
    .tab:hover {
      background: rgba(77,166,255,0.1);
      color: #4da6ff;
      transform: translateY(-2px);
    }
    
    .tab:hover::before {
      left: 100%;
    }
    
    .tab.active {
      background: linear-gradient(45deg, #0066cc, #4da6ff);
      color: #000;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(77,166,255,0.3);
    }
    
    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }
    
    .tab-content.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Enhanced Form Controls */
    .control-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .control-section {
      background: linear-gradient(145deg, #111, #1a1a1a);
      padding: 25px;
      border-radius: 15px;
      border: 1px solid #333;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    
    .control-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #4da6ff, #0066cc, #4da6ff);
      opacity: 0.7;
    }
    
    .section-title {
      color: #4da6ff;
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      color: #ccc;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .value-display {
      color: #4da6ff;
      font-weight: bold;
      font-size: 0.9rem;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #333;
      background: #0f0f0f;
      color: #fff;
      font-family: inherit;
      transition: all 0.3s ease;
      font-size: 0.95rem;
    }
    
    input:focus, select:focus, textarea:focus {
      border-color: #4da6ff;
      box-shadow: 0 0 10px rgba(77,166,255,0.3);
      outline: none;
      background: #1a1a1a;
    }
    
    /* Enhanced Range Sliders */
    input[type="range"] {
      -webkit-appearance: none;
      height: 8px;
      background: linear-gradient(90deg, #333, #4da6ff);
      border-radius: 4px;
      outline: none;
    }
    
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: #4da6ff;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(77,166,255,0.5);
      transition: all 0.2s;
    }
    
    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.2);
      box-shadow: 0 0 15px rgba(77,166,255,0.8);
    }
    
    /* Color Inputs */
    input[type="color"] {
      width: 60px;
      height: 40px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      padding: 0;
    }
    
    .color-group {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .color-preview {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      border: 2px solid #333;
      transition: all 0.2s;
    }
    
    /* Buttons */
    .btn {
      padding: 15px 25px;
      border: none;
      border-radius: 10px;
      font-family: inherit;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .btn-primary {
      background: linear-gradient(45deg, #0066cc, #4da6ff);
      color: #000;
      box-shadow: 0 5px 15px rgba(77,166,255,0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(77,166,255,0.4);
    }
    
    .btn-secondary {
      background: linear-gradient(45deg, #333, #555);
      color: #ccc;
    }
    
    .btn-secondary:hover {
      background: linear-gradient(45deg, #555, #777);
      color: #fff;
    }
    
    .btn-row {
      display: flex;
      gap: 15px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    
    /* Preview Section */
    .preview-container {
      background: #000;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      border: 2px dashed #333;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    
    .preview-text {
      font-size: 24px;
      color: #4da6ff;
      white-space: nowrap;
      transition: all 0.3s ease;
    }
    
    /* Chat Styles */
    .chat-container {
      height: 500px;
      background: #0f0f0f;
      border-radius: 15px;
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .chat-header {
      background: linear-gradient(90deg, #1a1a1a, #2a2a2a);
      padding: 15px;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .viewer-count {
      background: rgba(77,166,255,0.2);
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      color: #4da6ff;
      border: 1px solid rgba(77,166,255,0.3);
    }
    
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      background: #0a0a0a;
    }
    
    .chat-message {
      margin: 8px 0;
      padding: 12px;
      border-radius: 8px;
      background: #1a1a1a;
      border-left: 3px solid #666;
      transition: all 0.2s;
    }
    
    .chat-message.streamer {
      background: rgba(77,166,255,0.1);
      border-left-color: #4da6ff;
    }
    
    .chat-message:hover {
      background: #222;
      transform: translateX(5px);
    }
    
    .message-author {
      font-weight: bold;
      color: #4da6ff;
      font-size: 0.85rem;
      margin-bottom: 4px;
    }
    
    .message-text {
      color: #fff;
      line-height: 1.4;
    }
    
    .message-time {
      font-size: 0.75rem;
      color: #888;
      margin-top: 6px;
    }
    
    .chat-input-area {
      padding: 15px;
      background: #111;
      border-top: 1px solid #333;
      display: flex;
      gap: 10px;
    }
    
    .chat-input {
      flex: 1;
      margin: 0 !important;
      border-radius: 20px;
      padding: 12px 15px;
    }
    
    .chat-send {
      margin: 0 !important;
      padding: 12px 20px !important;
      border-radius: 20px;
      min-width: auto;
    }
    
    /* URL Display */
    .url-display {
      background: #0f0f0f;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #333;
      margin-top: 20px;
    }
    
    .url-box {
      background: #1a1a1a;
      padding: 12px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      word-break: break-all;
      margin-top: 8px;
      border: 1px solid #333;
    }
    
    .copy-btn {
      margin-top: 10px;
      padding: 8px 15px;
      font-size: 0.85rem;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .control-grid {
        grid-template-columns: 1fr;
      }
      
      .btn-row {
        flex-direction: column;
      }
      
      .color-group {
        flex-wrap: wrap;
      }
    }
    
    /* Animations */
    .control-section:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.4);
    }
    
    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #111;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #4da6ff;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #0066cc;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üé¨ Advanced Ticker Control Panel</h1>
  </div>
  
  <div class="container">
    <div class="tabs">
      <button class="tab active" onclick="switchTab('ticker')">üéõÔ∏è Ticker Control</button>
      <button class="tab" onclick="switchTab('chat')">üí¨ Stream Chat</button>
      <button class="tab" onclick="switchTab('presets')">üé® Presets</button>
    </div>

    <!-- Ticker Control Tab -->
    <div id="ticker-tab" class="tab-content active">
      <div class="control-grid">
        <!-- Room Settings -->
        <div class="control-section">
          <h3 class="section-title">üè† Room Settings</h3>
          <div class="form-group">
            <label for="room">Room ID:</label>
            <input id="room" placeholder="Enter custom room ID" />
          </div>
        </div>

        <!-- Text Content -->
        <div class="control-section">
          <h3 class="section-title">üìù Text Content</h3>
          <div class="form-group">
            <label for="text">Message Text:</label>
            <textarea id="text" rows="3" placeholder="Enter your ticker message...">üî• Welcome to the Live Stream! Don't forget to like and subscribe! üî•</textarea>
          </div>
          <div class="preview-container">
            <div class="preview-text" id="preview">Preview will appear here</div>
          </div>
        </div>
      </div>

      <div class="control-grid">
        <!-- Typography -->
        <div class="control-section">
          <h3 class="section-title">üé® Typography</h3>
          <div class="form-group">
            <label for="font">Font Family:</label>
            <select id="font">
              <option value="'Orbitron', monospace">ü§ñ Orbitron (Digital/Futuristic)</option>
              <option value="'Share Tech Mono', monospace">üíª Share Tech Mono (Tech)</option>
              <option value="'Audiowide', cursive">üéµ Audiowide (Gaming)</option>
              <option value="'Black Ops One', cursive">üí• Black Ops One (Military)</option>
              <option value="'Russo One', sans-serif">‚ö° Russo One (Bold)</option>
              <option value="Arial, sans-serif">üì∞ Arial (Classic)</option>
              <option value="'Courier New', monospace">‚å®Ô∏è Courier New (Typewriter)</option>
              <option value="'Times New Roman', serif">üìö Times New Roman (Formal)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="size">Font Size: <span class="value-display" id="sizeValue">40</span>px</label>
            <input id="size" type="range" min="12" max="200" value="40"/>
          </div>
          <div class="form-group">
            <label for="letterSpacing">Letter Spacing: <span class="value-display" id="letterSpacingValue">0</span>px</label>
            <input id="letterSpacing" type="range" min="-5" max="20" value="0"/>
          </div>
        </div>

        <!-- Colors & Effects -->
        <div class="control-section">
          <h3 class="section-title">üåà Colors & Effects</h3>
          <div class="form-group">
            <label>Text Color:</label>
            <div class="color-group">
              <input id="color" type="color" value="#00ff00" />
              <span class="color-preview" id="colorPreview"></span>
            </div>
          </div>
          <div class="form-group">
            <label>Shadow Type:</label>
            <select id="shadowType">
              <option value="none">None</option>
              <option value="basic" selected>Basic Shadow</option>
              <option value="glow">Glow Effect</option>
              <option value="neon">Neon Glow</option>
              <option value="rainbow">Rainbow Glow</option>
              <option value="fire">Fire Effect</option>
            </select>
          </div>
          <div class="form-group">
            <label for="shadowBlur">Shadow Intensity: <span class="value-display" id="shadowBlurValue">4</span>px</label>
            <input id="shadowBlur" type="range" min="0" max="30" value="4"/>
          </div>
        </div>

        <!-- Animation -->
        <div class="control-section">
          <h3 class="section-title">‚ö° Animation</h3>
          <div class="form-group">
            <label for="speed">Speed: <span class="value-display" id="speedValue">100</span> px/sec</label>
            <input id="speed" type="range" min="10" max="500" value="100"/>
          </div>
          <div class="form-group">
            <label for="direction">Direction:</label>
            <select id="direction">
              <option value="left" selected>‚Üê Left to Right</option>
              <option value="right">‚Üí Right to Left</option>
              <option value="up">‚Üë Bottom to Top</option>
              <option value="down">‚Üì Top to Bottom</option>
            </select>
          </div>
          <div class="form-group">
            <label for="animationStyle">Animation Style:</label>
            <select id="animationStyle">
              <option value="scroll" selected>üîÑ Continuous Scroll</option>
              <option value="fade">üåÖ Fade In/Out</option>
              <option value="typewriter">‚å®Ô∏è Typewriter</option>
              <option value="bounce">üèÄ Bounce</option>
              <option value="pulse">üíó Pulse</option>
            </select>
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button id="send" class="btn btn-primary">üöÄ Apply All Changes</button>
        <button id="previewBtn" class="btn btn-secondary">üëÅÔ∏è Update Preview</button>
        <button id="savePreset" class="btn btn-secondary">üíæ Save as Preset</button>
      </div>

      <div class="url-display">
        <h3 class="section-title">üîó OBS Integration</h3>
        <p>Copy this URL and paste it as a Browser Source in OBS:</p>
        <div class="url-box" id="overlayLink"></div>
        <button class="btn btn-secondary copy-btn" onclick="copyToClipboard()">üìã Copy URL</button>
        <p style="font-size: 0.85rem; color: #888; margin-top: 10px;">üí° Tip: Set Browser Source width to 1920px, height to 100px for best results</p>
      </div>
    </div>

    <!-- Stream Chat Tab -->
    <div id="chat-tab" class="tab-content">
      <div class="control-grid">
        <div class="control-section">
          <h3 class="section-title">üí¨ Live Stream Chat</h3>
          <div class="chat-container">
            <div class="chat-header">
              <h4>Stream Chat</h4>
              <div class="viewer-count" id="viewerCount">üë• 0 viewers</div>
            </div>
            <div class="chat-messages" id="chatMessages">
              <div class="chat-message streamer">
                <div class="message-author">üé¨ Streamer</div>
                <div class="message-text">Welcome to the stream! Chat with me here while I'm live!</div>
                <div class="message-time">Just now</div>
              </div>
            </div>
            <div class="chat-input-area">
              <input type="text" id="chatInput" class="chat-input" placeholder="Type your message to viewers..." />
              <button id="chatSend" class="btn btn-primary chat-send">Send</button>
            </div>
          </div>
        </div>

        <div class="control-section">
          <h3 class="section-title">‚öôÔ∏è Chat Settings</h3>
          <div class="form-group">
            <label>
              <input type="checkbox" id="showChatOnOverlay" /> Show chat on overlay
            </label>
          </div>
          <div class="form-group">
            <label for="maxChatMessages">Max messages to display: <span class="value-display" id="maxChatValue">5</span></label>
            <input id="maxChatMessages" type="range" min="3" max="15" value="5"/>
          </div>
          <div class="form-group">
            <label for="chatDuration">Message duration: <span class="value-display" id="chatDurationValue">10</span>s</label>
            <input id="chatDuration" type="range" min="5" max="30" value="10"/>
          </div>
        </div>
      </div>
    </div>

    <!-- Presets Tab -->
    <div id="presets-tab" class="tab-content">
      <div class="control-grid">
        <div class="control-section">
          <h3 class="section-title">üé® Style Presets</h3>
          <div class="preset-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
            <button class="preset-btn" onclick="loadPreset('gaming')">üéÆ Gaming Style</button>
            <button class="preset-btn" onclick="loadPreset('news')">üì∞ News Style</button>
            <button class="preset-btn" onclick="loadPreset('neon')">‚ú® Neon Style</button>
            <button class="preset-btn" onclick="loadPreset('minimal')">üîò Minimal Style</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    const qp = (name) => new URLSearchParams(window.location.search).get(name);
    const initialRoom = qp('room') || '';
    document.getElementById('room').value = initialRoom;

    // Tab switching
    function switchTab(tabName) {
      // Remove active class from all tabs and contents
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
      
      // Add active class to clicked tab and corresponding content
      event.target.classList.add('active');
      document.getElementById(tabName + '-tab').classList.add('active');
    }

    // Update range value displays
    const ranges = ['size', 'letterSpacing', 'shadowBlur', 'speed', 'maxChatMessages', 'chatDuration'];
    ranges.forEach(id => {
      const element = document.getElementById(id);
      const valueDisplay = document.getElementById(id + 'Value');
      if (element && valueDisplay) {
        element.addEventListener('input', () => {
          valueDisplay.textContent = element.value;
          if (id !== 'maxChatMessages' && id !== 'chatDuration') {
            updatePreview();
          }
        });
      }
    });

    // Update color previews
    const colorInput = document.getElementById('color');
    const colorPreview = document.getElementById('colorPreview');
    colorInput.addEventListener('input', () => {
      colorPreview.style.backgroundColor = colorInput.value;
      updatePreview();
    });
    colorPreview.style.backgroundColor = colorInput.value;

    // Update preview function
    function updatePreview() {
      const preview = document.getElementById('preview');
      const text = document.getElementById('text').value || 'Sample Text';
      preview.textContent = text;
      
      const styles = {
        fontFamily: document.getElementById('font').value,
        fontSize: document.getElementById('size').value + 'px',
        color: document.getElementById('color').value,
        letterSpacing: document.getElementById('letterSpacing').value + 'px'
      };

      Object.assign(preview.style, styles);

      // Apply shadow
      const shadowType = document.getElementById('shadowType').value;
      const shadowBlur = document.getElementById('shadowBlur').value;
      
      switch(shadowType) {
        case 'basic':
          preview.style.textShadow = `2px 2px ${shadowBlur}px #000`;
          break;
        case 'glow':
          preview.style.textShadow = `0 0 ${shadowBlur}px ${colorInput.value}`;
          break;
        case 'neon':
          preview.style.textShadow = `0 0 5px ${colorInput.value}, 0 0 10px ${colorInput.value}, 0 0 15px ${colorInput.value}`;
          break;
        case 'rainbow':
          preview.style.textShadow = `0 0 5px #ff0080, 0 0 10px #00ff80, 0 0 15px #8000ff`;
          break;
        case 'fire':
          preview.style.textShadow = `0 0 5px #ff4400, 0 0 10px #ff6600, 0 0 15px #ff8800`;
          break;
        default:
          preview.style.textShadow = 'none';
      }
    }

    // Add event listeners for all inputs
    ['text', 'font', 'shadowType'].forEach(id => {
      const element = document.getElementById(id);
      if (element) {
        element.addEventListener('change', updatePreview);
        element.addEventListener('input', updatePreview);
      }
    });

    // URL management
    function makeOverlayLink(room) {
      const url = new URL(window.location.origin + '/overlay.html');
      if (room) url.searchParams.set('room', room);
      return url.toString();
    }

    const overlayLinkEl = document.getElementById('overlayLink');
    overlayLinkEl.textContent = makeOverlayLink(initialRoom || 'your_room_id');

    document.getElementById('room').addEventListener('input', (e) => {
      overlayLinkEl.textContent = makeOverlayLink(e.target.value.trim());
    });

    // Copy to clipboard function
    function copyToClipboard() {
      const urlText = overlayLinkEl.textContent;
      navigator.clipboard.writeText(urlText).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úÖ Copied!';
        btn.style.background = 'linear-gradient(45deg, #0066cc, #4da6ff)';
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = '';
        }, 2000);
      });
    }

    // Main send function
    document.getElementById('send').addEventListener('click', () => {
      const room = document.getElementById('room').value.trim() || 'default';
      const payload = {
        text: document.getElementById('text').value,
        fontFamily: document.getElementById('font').value,
        fontSizePx: Number(document.getElementById('size').value) || 40,
        letterSpacing: Number(document.getElementById('letterSpacing').value) || 0,
        color: document.getElementById('color').value || '#00ff00',
        shadowType: document.getElementById('shadowType').value,
        shadowBlur: Number(document.getElementById('shadowBlur').value) || 0,
        speed: Number(document.getElementById('speed').value) || 100,
        direction: document.getElementById('direction').value,
        animationStyle: document.getElementById('animationStyle').value
      };
      socket.emit('update', { room, payload });
    });

    // Preview button
    document.getElementById('previewBtn').addEventListener('click', updatePreview);

    // Chat functionality
    let chatMessages = [];
    
    document.getElementById('chatSend').addEventListener('click', sendChatMessage);
    document.getElementById('chatInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendChatMessage();
    });

    function sendChatMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (!message) return;

      const chatMessage = {
        author: 'Streamer',
        text: message,
        time: new Date().toLocaleTimeString(),
        type: 'streamer'
      };

      chatMessages.push(chatMessage);
      displayChatMessage(chatMessage);
      input.value = '';

      // Emit to room
      const room = document.getElementById('room').value.trim() || 'default';
      socket.emit('chatMessage', { room, message: chatMessage });
    }

    function displayChatMessage(message) {
      const chatContainer = document.getElementById('chatMessages');
      const messageEl = document.createElement('div');
      messageEl.className = `chat-message ${message.type}`;
      messageEl.innerHTML = `
        <div class="message-author">${message.type === 'streamer' ? 'üé¨ ' : 'üë§ '}${message.author}</div>
        <div class="message-text">${message.text}</div>
        <div class="message-time">${message.time}</div>
      `;
      chatContainer.appendChild(messageEl);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    // Preset functions
    const presets = {
      gaming: {
        font: "'Audiowide', cursive",
        size: 48,
        color: "#ff6600",
        shadowType: "neon",
        speed: 150,
        text: "üéÆ EPIC GAMING STREAM - Don't forget to subscribe! üéÆ"
      },
      news: {
        font: "'Times New Roman', serif",
        size: 36,
        color: "#ffffff",
        shadowType: "basic",
        speed: 80,
        text: "üì∞ BREAKING NEWS: Live updates coming your way!"
      },
      neon: {
        font: "'Orbitron', monospace",
        size: 44,
        color: "#4da6ff",
        shadowType: "neon",
        speed: 120,
        text: "‚ú® NEON VIBES - Welcome to the future! ‚ú®"
      },
      minimal: {
        font: "Arial, sans-serif",
        size: 32,
        color: "#cccccc",
        shadowType: "none",
        speed: 100,
        text: "Clean and simple streaming overlay"
      }
    };

    function loadPreset(presetName) {
      const preset = presets[presetName];
      if (!preset) return;

      document.getElementById('font').value = preset.font;
      document.getElementById('size').value = preset.size;
      document.getElementById('color').value = preset.color;
      document.getElementById('shadowType').value = preset.shadowType;
      document.getElementById('speed').value = preset.speed;
      document.getElementById('text').value = preset.text;

      // Update displays
      document.getElementById('sizeValue').textContent = preset.size;
      document.getElementById('speedValue').textContent = preset.speed;
      document.getElementById('colorPreview').style.backgroundColor = preset.color;

      updatePreview();
    }

    // Initialize
    updatePreview();
  </script>
</body>
</html>